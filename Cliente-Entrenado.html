<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cliente-Entrenador</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <!-- Archivos CSS -->
 <link rel="stylesheet" href="estilos_generales.css">
 <link rel="stylesheet" href="estilo_cliente_entre.css">

 <script>
    $(document).ready(function () {
      $('header').load('header.html');
      $('footer').load('footer.html');
    });

    // Función para cargar datos del archivo JSON
    async function cargarDatosJSON() {
        try {
            const response = await fetch('pagina.json'); // Asegúrate de que la ruta sea correcta
            const data = await response.json();

            // Supongamos que quieres tomar los datos del primer usuario "entrenador"
            const cliente = data.usuarios.find(usuario => usuario.tipoUsuario === 'cliente');

            // Verificar si existe el entrenador y contiene los datos necesarios
            if (cliente && cliente.rutina) {
                // Recuperar la medida de muñeca y asignarla
                const medidaMuñeca = cliente.rutina.medidaMuñeca;
                const tipoCuerpo = determinarTipologia(parseFloat(medidaMuñeca));
                document.getElementById('tipoCuerpoCliente').textContent = tipoCuerpo;

                // Recuperar y mostrar los días de entrenamiento
                const diasSeleccionados = cliente.rutina.diasEntreno;
                if (diasSeleccionados && diasSeleccionados.length > 0) {
                    document.getElementById('dias-entreno').textContent = diasSeleccionados.join(', ');
                } else {
                    document.getElementById('dias-entreno').textContent = "No disponible";
                }
            } else {
                document.getElementById('tipoCuerpoCliente').textContent = "No disponible";
                document.getElementById('dias-entreno').textContent = "No disponible";
            }
        } catch (error) {
            console.error('Error al cargar el archivo JSON:', error);
        }
    }

    // Llamada a la función para cargar los datos del JSON
    cargarDatosJSON();

    // Función para determinar la tipología corporal
    function determinarTipologia(medidaMuñeca) {
      if (medidaMuñeca < 17) {
        return "Ectomorfo";
      } else if (medidaMuñeca >= 17 && medidaMuñeca <= 20) {
        return "Mesomorfo";
      } else {
        return "Endomorfo";
      }
    }

    $(document).ready(function () {
        // Al cargar la página, recuperar la imagen seleccionada desde localStorage
        const selectedEmoji = localStorage.getItem('emojiSeleccionado');
        
        if (selectedEmoji) {
          // Actualizar la imagen de la carita en la sección del cliente
          $('.cara figure img').attr('src', selectedEmoji);
        }
    });
</script>

</head><!-- Encabezado -->

<body>
    <header></header>

    <div class="cliente">
        <a href="iniciar_sesion.html"> 
            <img class="logos-icon" alt="Logos" src="img/Logos_flecha.svg">
        </a>
        <a href="pagina_principal.html"> 
            <div class="button-text">
                <button class="button">Salir</button>
            </div>
        </a> 
    </div>

    <h1>Clientes</h1>
</div>
<div class="parte1">  
    <div class="tablita">
    <!-- primerooo -->
        <div class="img-cliente">
                <img class="img-cel" src="img\Juan Diego.png" alt="Imagen del Cliente">
        </div>
        <div class="cliente-info">
            <div class="nombre-cliente">
                <h2> JUAN DIEGO, 22</h2>
            </div>
            <div class="info-item">
                <p>Tipo: <span id="tipoCuerpoCliente"></span></p>
            </div>
            <div class="info-item">
                <p> Días: <span id="dias-entreno"></span> </p>
            </div>
            <div class="button-group1">
                <div class="button-text">
                    <a href="editar_entrenador.html"> 
                        <button class="button">Editar</button>
                    </a>
                </div> 
                <div class="cara">
                <figure>
                    <img src="img\Contento1.svg" alt="Cara del Entrenador">
                </figure>
                </div>
            </div>
        </div>
    </div>
   

    <!-- Segundoooo -->
    <div class="tablita">  
        <div class="img-cliente">
            <img class="img-cel" src="img\Natalia.png" alt="Imagen del Cliente">
        </div>
        <div class="cliente-info">
            <div class="nombre-cliente">
                <h2> MARÍA FERNANDA, 29</h2>
            </div>
            <div class="info-item">
                <p>Tipo: <span id="tipoCuerpoCliente"></span></p>
            </div>
            <div class="info-item">
                <p> Días: Lu, Ma, Vi </p>
            </div>
            <div class="button-group1">
                <div class="button-text">
                    <a href="editar_entrenador.html"> 
                        <button class="button">Editar</button>
                    </a>
                </div> 
                <div class="cara">
                    <figure>
                        <img src="img\Serio1.svg" alt="Cara del Entrenador">
                    </figure>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="parte1">  
    <div class="tablita">
        <!-- Tercero -->
        <div class="img-cliente">
            <img class="img-cel" src="img\Carlos.png" alt="Imagen del Cliente">
        </div>
        <div class="cliente-info">
            <div class="nombre-cliente">
                <h2> CARLOS ANDRÉS, 35</h2>
            </div>
            <div class="info-item">
                <p>Tipo: <span id="tipoCuerpoCliente"></span></p>
            </div>
            <div class="info-item">
                <p> Días: Lu, Mi, Vi </p>
            </div>
            <div class="button-group1">
                <div class="button-text">
                    <a href="editar_entrenador.html"> 
                        <button class="button">Editar</button>
                    </a>
                </div> 
                <div class="cara">
                <figure>
                    <img src="img\Feliz1.svg" alt="Cara del Entrenador">
                </figure>
                </div>
            </div> 
        </div> 
    </div>
    <!-- Cuarto -->
    <div class="tablita">
        <div class="img-cliente">
            <img class="img-cel" src="img\Lau.png" alt="Imagen del Cliente">
        </div>
        <div class="cliente-info">
            <div class="nombre-cliente">
                <h2> LAURA SOFIA, 27</h2>
            </div>
            <div class="info-item">
                <p>Tipo: <span id="tipoCuerpoCliente"></span></p>
            </div>
            <div class="info-item">
                <p> Días: Lu, Mi, Vi, Sa </p>
            </div>
            <div class="button-group1">
                <div class="button-text">
                    <a href="editar_entrenador.html"> 
                        <button class="button">Editar</button>
                    </a>
                </div> 
                <div class="cara">
                <figure>
                    <img src="img\Feliz1.svg" alt="Cara del Entrenador">
                </figure>
                </div>
            </div> 
        </div>
    </div>
</div>

<div class="parte1"> 
    <!-- Quinto -->
    <div class="tablita"> 
        <div class="img-cliente">
            <img class="img-cel" src="img\Andres.png" alt="Imagen del Cliente">
        </div>
        <div class="cliente-info">
            <div class="nombre-cliente">
                <h2> ANDRÉS FELIPE, 40</h2>
            </div>
            <div class="info-item">
                <p>Tipo: <span id="tipoCuerpoCliente"></span></p>
            </div>
            <div class="info-item">
                <p> Días: Lu, Mi, Vi </p>
            </div>
            <div class="button-group1">
                <div class="button-text">
                    <a href="editar_entrenador.html"> 
                        <button class="button">Editar</button>
                    </a>
                </div> 
                <div class="cara">
                <figure>
                    <img src="img\Contento1.svg" alt="Cara del Entrenador">
                </figure>
                </div>
            </div>
        </div>
    </div>


    <!-- Sexto -->
    <div class="tablita"> 
        <div class="img-cliente">
            <img class="img-cel" src="img\Natalia.png" alt="Imagen del Cliente">
        </div>
        <div class="cliente-info">
            <div class="nombre-cliente">
                <h2> NATALIA, 31</h2>
            </div>
            <div class="info-item">
                <p>Tipo: <span id="tipoCuerpoCliente"></span></p>
            </div>
            <div class="info-item">
                <p> Días: Lu, Mi, Vi </p>
            </div>
            <div class="button-group1">
                <div class="button-text">
                    <a href="editar_entrenador.html"> 
                        <button class="button">Editar</button>
                    </a>
                </div> 
                <div class="cara">
                <figure>
                    <img src="img\Contento1.svg" alt="Cara del Entrenador">
                </figure>
                </div>
            </div>
        </div>
    </div>
</div>

<footer></footer>
</body>
</html>